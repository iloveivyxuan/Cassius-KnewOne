html.signed_in_homepage {

  // Layout
  // ---------------------------------------------------------------------------

  body {
    background: #f7f7f9;
  }

  #wrapper {
    > main {
      min-height: 940px;
    }
  }

  // Section
  // ---------------------------------------------------------------------------

  header.filter {
    position: relative;
    margin-bottom: 1.5em;

    font-size: 18px;
    line-height: 1;

    &:after {
      content: '';

      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: -1;

      border-bottom: 1px solid $gray-light;
    }

    nav {
      li {
        display: inline-block;
        margin-right: 2em;

        a {
          display: block;
          padding-bottom: 0.5em;
          color: $gray-light;
        }

        &.active {
          border-bottom: 2px solid $blue;

          a {
            color: $gray;
          }
        }
      }
    }
  }

  #activities {
    @include clearfix;

    $activity-gap: 20px;

    margin: 0 (-$activity-gap) (-$activity-gap) 0;

    > .feed {
      float: left;
      width: calc(25% - #{$activity-gap});
      height: 400px;
      margin: 0 $activity-gap $activity-gap 0;
      background: white;

      position: relative;

      .feed-photo {
        position: relative;
        overflow: hidden;

        img {
          @include stretch;
          margin: auto;
          width: 100%;
        }
      }

      .feed-content {
        padding: 1em;

        h5 {
          @include text-overflow;

          margin: 0;
          font-size: 14px;
          color: $gray-dark;

          small {
            @include text-overflow;

            display: block;
            font-size: 14px;
            color: $gray;
          }
        }
      }

      .feed-details {
        position: absolute;
        bottom: 1em;
        width: 100%;

        padding-left: 40px;

        .feed-user-avatar {
          position: absolute;
          left: 0;
          width: 32px;

          img {
            @extend .img-circle;
          }
        }

        .feed-action,
        .feed-action a {
          font-size: 14px;
          line-height: 1;
          color: $gray;
        }

        .feed-timestamp {
          margin-top: 6px;
        }

        .feed-timestamp,
        .feed-counts,
        .feed-counts a {
          font-size: 12px;
          line-height: 1;
          color: $gray-light;
        }

        .feed-counts {
          position: absolute;
          right: 2em;
          bottom: 0;

          text-align: right;

          li {
            display: inline-block;
            margin-left: 1em;
          }

          span {
            margin-left: 0.2em;
          }
        }
      }
    }

    .feed-thing {
      position: relative;

      .feed-photo {
        height: percentage(8 / 12);
      }

      .feed-fancy {
        @include transition(opacity .2s ease);
        opacity: 0;

        @include breakpoint(md) {
          &:hover {
            opacity: 1;
          }
        }

        .fancy-backdrop {
          @include stretch;
          background-color: rgba(black, 0.5);
        }

        .fancy-button {
          display: none;

          @include breakpoint(md) {
            display: block;
          }

          a {
            display: block;
            width: 50px;
            height: 50px;

            position: absolute;
            top: 50%;
            left: 50%;
            margin: -25px 0 0 -25px;

            font-size: 50px;
            line-height: 1;

            .fa {
              color: #ff3b3b;
              margin-right: 0;
            }

            .fanciers_count,
            small {
              display: none;
            }
          }
        }
      }
    }

    .feed-review {
      .feed-photo {
        height: percentage(5 / 12);
      }

    }

    .video {
      display: none;
    }
  }

  footer[role="contentinfo"] {
    display: block;
  }

  &.mobile {

    #activities {

      .feed_article {
        padding: {
          left: 0;
          right: 0;
          top: 1rem;
        }

        > header {

          .avatar {

            a:last-child {
              max-width: 70px;
            }
          }
        }
      }
    }
  }
}
