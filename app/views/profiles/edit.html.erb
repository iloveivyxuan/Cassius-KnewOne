# -*- coding: utf-8 -*-
<%- provide :nav, :profile %>

<header class="page-header">
  <h2><i class="fa fa-user"></i>个人信息</h2>
</header>

<%= simple_form_for(current_user, url: profile_path, wrapper: :horizontal, html: { method: :patch, class: 'form-horizontal' }) do |f| %>
  <%= f.input :nickname, required: true %>
  <%= f.input :avatar, as: :file %>
  <%= f.input :avatar_cache, as: :hidden %>
  <%= f.input :location %>
  <%= f.input :site %>
  <%= f.input :description, as: :text, input_html: {rows: 5} %>

  <div class="form-group">
    <div class="form-action">
      <%= f.button :submit, '保存', class: 'btn btn-primary' %>
    </div>
  </div>
  <div class="form-group">
    <div class="form-result">
      <%- if r = flash[:profile] %>
        <%= content_tag :div, class: "alert alert-#{r[:status]}" do %>
          <%= r[:text] %>
        <% end %>
      <% end %>
    </div>
  </div>
<% end %>
